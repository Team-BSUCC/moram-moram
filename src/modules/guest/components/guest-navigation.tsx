import Text from '@/components/commons/text';
import { Dispatch, SetStateAction, useEffect } from 'react';

type GuestNavigationProps = {
  isNavigationOpen: boolean;
  setIsNavigationOpen: Dispatch<SetStateAction<boolean>>;
};

const DESKTOP_SIZE = 1024;

const GuestNavigation = ({
  isNavigationOpen,
  setIsNavigationOpen,
}: GuestNavigationProps) => {
  useEffect(() => {
    const handleResize = () => {
      if (window.innerWidth >= DESKTOP_SIZE) {
        setIsNavigationOpen(false);
      }
    };

    if (window.innerWidth < DESKTOP_SIZE) {
      setIsNavigationOpen(true);
    }

    window.addEventListener('resize', handleResize);
    return () => window.removeEventListener('resize', handleResize);
  }, []);

  return (
    <div>
      {isNavigationOpen && (
        <div
          className='fixed inset-0 z-50 flex items-center justify-center bg-[rgba(0,0,0,0.6)]'
          onClick={() => {
            setIsNavigationOpen(false);
          }}
        >
          <div className='absolute left-1/2 top-1/2 flex h-[300px] w-[210px] -translate-x-1/2 -translate-y-1/2 flex-col items-center justify-center gap-[40px] bg-transparent'>
            <div className='flex animate-fade-in-top justify-center gap-[16px]'>
              <ZoomInGesture />
              <ZoomOutGesture />
            </div>
            <div className='break-keep'>
              <Text size='16px-semibold' align='center' textColor='lightwhite'>
                손가락 제스쳐로 만다라트 판을 확대/축소 할 수 있어요.
              </Text>
              <Text size='16px-regular' align='center' textColor='white'>
                두 손가락으로 판을 움직여보세요!
              </Text>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default GuestNavigation;

const ZoomInGesture = () => {
  return (
    <svg
      width='92'
      height='90'
      viewBox='0 0 92 90'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <path
        d='M3.45695 67.3388C2.91486 68.3231 3.27337 69.5605 4.25771 70.1026C5.24205 70.6447 6.47947 70.2862 7.02157 69.3019L3.45695 67.3388ZM5.23926 68.3203L7.02157 69.3019L21.8664 42.3464L20.0841 41.3648L18.3018 40.3833L3.45695 67.3388L5.23926 68.3203Z'
        fill='white'
      />
      <path
        d='M25.2479 58.3828L19.9647 41.0044L2.38449 46.3132'
        stroke='white'
        strokeWidth='4.06943'
        strokeLinecap='round'
        strokeLinejoin='round'
      />
      <path
        d='M42.4605 3.73633C43.0139 2.75828 42.6696 1.51682 41.6915 0.963459C40.7135 0.410095 39.472 0.75437 38.9187 1.73242L42.4605 3.73633ZM40.6896 2.73438L38.9187 1.73242L23.7652 28.5156L25.5361 29.5176L27.307 30.5195L42.4605 3.73633L40.6896 2.73438Z'
        fill='white'
      />
      <path
        d='M21 12.4453L26.0832 29.8833L43.7233 24.7768'
        stroke='white'
        strokeWidth='4.06943'
        strokeLinecap='round'
        strokeLinejoin='round'
      />
      <path
        d='M58.9508 39.2927C58.9508 38.3393 59.3295 37.425 60.0037 36.7509C60.6778 36.0768 61.5921 35.698 62.5455 35.698C63.4988 35.698 64.4132 36.0768 65.0873 36.7509C65.7614 37.425 66.1401 38.3393 66.1401 39.2927V55.3608L70.4897 55.8281L88.2473 63.7364C90.1165 64.5991 91.3028 66.4683 91.3028 68.5532V84.2259C91.1949 87.1736 88.8584 89.5101 85.9108 89.6179H62.5455C61.1795 89.6179 59.8854 89.0787 58.9508 88.0722L41.337 72.9747L43.997 70.2068C44.68 69.4519 45.6506 69.0565 46.6571 69.0565H47.4479L58.9508 75.2393V39.2927ZM62.5455 24.9141C67.6499 24.9141 72.3948 27.646 74.9471 32.1034C78.9371 38.9332 76.6006 47.7402 69.7348 51.7302V47.3088C72.0354 45.2958 73.3295 42.3482 73.3295 39.2927C73.3295 36.4326 72.1933 33.6897 70.1709 31.6673C68.1485 29.6449 65.4056 28.5087 62.5455 28.5087C59.6854 28.5087 56.9424 29.6449 54.9201 31.6673C52.8977 33.6897 51.7615 36.4326 51.7615 39.2927C51.7615 42.3482 53.0556 45.2958 55.3562 47.3088V51.7302C50.9347 49.178 48.1668 44.4331 48.1668 39.2927C48.1668 35.4792 49.6817 31.822 52.3782 29.1255C55.0748 26.4289 58.732 24.9141 62.5455 24.9141ZM44.5722 57.266C47.1963 57.266 49.6407 57.949 51.7615 59.2071V63.5926C49.8563 61.9031 47.3401 60.8607 44.5722 60.8607C41.7121 60.8607 38.9691 61.9968 36.9468 64.0192C34.9244 66.0416 33.7882 68.7845 33.7882 71.6446C33.7882 75.2393 35.5855 78.3667 38.1737 80.3437L45.6865 86.0233H44.5722C40.7587 86.0233 37.1015 84.5084 34.4049 81.8119C31.7084 79.1154 30.1935 75.4581 30.1935 71.6446C30.1935 67.8312 31.7084 64.1739 34.4049 61.4774C37.1015 58.7809 40.7587 57.266 44.5722 57.266Z'
        fill='white'
      />
    </svg>
  );
};

const ZoomOutGesture = () => {
  return (
    <svg
      width='95'
      height='87'
      viewBox='0 0 95 87'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <path
        d='M61.8944 36.2927C61.8944 35.3393 62.2731 34.425 62.9472 33.7509C63.6213 33.0768 64.5357 32.698 65.489 32.698C66.4424 32.698 67.3567 33.0768 68.0308 33.7509C68.705 34.425 69.0837 35.3393 69.0837 36.2927V52.3608L73.4332 52.8281L91.1908 60.7364C93.0601 61.5991 94.2463 63.4683 94.2463 65.5532V81.2259C94.1385 84.1736 91.8019 86.5101 88.8543 86.6179H65.489C64.1231 86.6179 62.829 86.0787 61.8944 85.0722L44.2805 69.9747L46.9406 67.2068C47.6236 66.4519 48.5941 66.0565 49.6006 66.0565H50.3915L61.8944 72.2393V36.2927ZM65.489 21.9141C70.5934 21.9141 75.3384 24.646 77.8906 29.1034C81.8807 35.9332 79.5441 44.7402 72.6783 48.7302V44.3088C74.9789 42.2958 76.273 39.3482 76.273 36.2927C76.273 33.4326 75.1368 30.6897 73.1144 28.6673C71.0921 26.6449 68.3491 25.5087 65.489 25.5087C62.6289 25.5087 59.886 26.6449 57.8636 28.6673C55.8412 30.6897 54.705 33.4326 54.705 36.2927C54.705 39.3482 55.9991 42.2958 58.2997 44.3088V48.7302C53.8783 46.178 51.1104 41.4331 51.1104 36.2927C51.1104 32.4792 52.6253 28.822 55.3218 26.1255C58.0183 23.4289 61.6756 21.9141 65.489 21.9141ZM47.5157 54.266C50.1398 54.266 52.5842 54.949 54.705 56.2071V60.5926C52.7999 58.9031 50.2836 57.8607 47.5157 57.8607C44.6556 57.8607 41.9127 58.9968 39.8903 61.0192C37.8679 63.0416 36.7317 65.7845 36.7317 68.6446C36.7317 72.2393 38.5291 75.3667 41.1172 77.3437L48.6301 83.0233H47.5157C43.7023 83.0233 40.045 81.5084 37.3485 78.8119C34.652 76.1153 33.1371 72.4581 33.1371 68.6446C33.1371 64.8312 34.652 61.1739 37.3485 58.4774C40.045 55.7809 43.7023 54.266 47.5157 54.266Z'
        fill='white'
      />
      <path
        d='M5.33963 67.6522C5.63512 68.7364 6.75358 69.3758 7.83777 69.0803L25.5057 64.2649C26.5899 63.9694 27.2293 62.851 26.9338 61.7668C26.6383 60.6826 25.5199 60.0432 24.4357 60.3387L8.7308 64.619L4.45048 48.9142C4.15498 47.83 3.03652 47.1906 1.95233 47.4861C0.868136 47.7816 0.228769 48.9001 0.524263 49.9843L5.33963 67.6522ZM45.9631 2.38683C45.6676 1.30264 44.5492 0.663268 43.465 0.958767L25.797 5.77413C24.7128 6.06962 24.0734 7.18808 24.3689 8.27228C24.6644 9.35647 25.7829 9.99584 26.8671 9.70034L42.5719 5.42002L46.8523 21.1249C47.1478 22.2091 48.2662 22.8484 49.3504 22.5529C50.4346 22.2574 51.074 21.139 50.7785 20.0548L45.9631 2.38683ZM9.06919 68.127L45.7665 3.93167L42.2335 1.91208L5.53628 66.1074L9.06919 68.127Z'
        fill='white'
      />
    </svg>
  );
};
